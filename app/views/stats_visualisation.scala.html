@(topic: String, sentimentFrequencies: Map[String, Map[String, Double]],
        sentimentPercentages: Map[String, Map[String, Double]])

@scripts = {
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="@routes.Assets.at("javascripts/stats.js")" type="text/javascript"></script>
}

@main(scripts) {
    @common.nav()
    @common.toolbar(topic)

    @defining(sentimentPercentages.get("UK")) { sentFreq =>
        <div id="uk-sentiment-percentages" data-positive="@sentFreq.get("positive")"
        data-neutral="@sentFreq.get("neutral")" data-negative="@sentFreq.get("negative")"></div>
    }

    @defining(sentimentPercentages.get("EU")) { sentFreq =>
        <div id="eu-sentiment-percentages" data-positive="@sentFreq.get("positive")"
        data-neutral="@sentFreq.get("neutral")" data-negative="@sentFreq.get("negative")"></div>
    }

    @defining(sentimentPercentages.get("USCAN")) { sentFreq =>
        <div id="uscan-sentiment-percentages" data-positive="@sentFreq.get("positive")"
        data-neutral="@sentFreq.get("neutral")" data-negative="@sentFreq.get("negative")"></div>
    }

    <!---- Define the data elements used by the overview pie chart ---->
    @defining(sentimentFrequencies.get("all")) { sentFreq =>
        <div id="overview-sentiment-frequencies" data-positive="@sentFreq.get("positive")"
        data-neutral="@sentFreq.get("neutral")" data-negative="@sentFreq.get("negative")"></div>
    }

    <!---- Define the data elements used by the UK pie chart ---->
    @defining(sentimentFrequencies.get("UK")) { sentFreq =>
        <div id="uk-sentiment-frequencies" data-positive="@sentFreq.get("positive")"
        data-neutral="@sentFreq.get("neutral")" data-negative="@sentFreq.get("negative")"></div>
    }

    <!---- Define the data elements used by the EU pie chart ---->
    @defining(sentimentFrequencies.get("EU")) { sentFreq =>
        <div id="eu-sentiment-frequencies" data-positive="@sentFreq.get("positive")"
        data-neutral="@sentFreq.get("neutral")" data-negative="@sentFreq.get("negative")"></div>
    }

    <!---- Define the data elements used by the US & Canada pie chart ---->
    @defining(sentimentFrequencies.get("USCAN")) { sentFreq =>
        <div id="uscan-sentiment-frequencies" data-positive="@sentFreq.get("positive")"
        data-neutral="@sentFreq.get("neutral")" data-negative="@sentFreq.get("negative")"></div>
    }

    <p class="topic-info">
        How <strong>the world</strong> as a whole feels about <strong>"@topic"</strong>.
        <a href="@routes.HomeController.renderHomePage()">Search for a new topic.</a>
    </p>

    <div id="stats_overview_wrapper">
        <div id="overview_chart_div"></div>
        <div id="bar_chart_div"></div>
    </div>

    <p class="topic-info">
        How <strong>the UK</strong> feels about <strong>"@topic"</strong>.
        <a href="@routes.HomeController.renderHomePage()">Search for a new topic.</a>
    </p>
    <div id="uk_chart_div" class="stats_chart"></div>

    <p class="topic-info">
        How <strong>Europe</strong> feels about <strong>"@topic"</strong>.
        <a href="@routes.HomeController.renderHomePage()">Search for a new topic.</a>
    </p>
    <div id="eu_chart_div" class="stats_chart"></div>

    <p class="topic-info">
        How <strong>US & Canada</strong> feel about <strong>"@topic"</strong>.
        <a href="@routes.HomeController.renderHomePage()">Search for a new topic.</a>
    </p>
    <div id="uscan_chart_div" class="stats_chart"></div>
}