@(tweets: List[Tweet])

@scripts = {
    <script src="@routes.Assets.at("javascripts/map.js")" type="text/javascript"></script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDN5oYZL5dP2djoGvYLJRTMfVgDNgw93Ew&callback=initMap">
    </script>
}

@main(scripts) {
    @for(tweet <- tweets) {
        <span class="tweet" data-lat="@tweet.getGeoLocation().getLatitude"
        data-lng="@tweet.getGeoLocation().getLongitude" data-text="@tweet.getText"
        data-sentiment="@tweet.getSentimentValue"></span>
    }
    <ul id="map-toolbar">
        <li><a href="" id="new-topic-link" onclick="return renderNewTopicSearchForm()">Search for a new topic</a></li>

        <form id="map-new-topic-search" method="GET" action="/Map/visualiseTopic">
            <span onclick="return hideNewTopicSearchForm()">x</span>
            <input type="text" name="topic"/>
            <input type="submit" />
        </form>

        <li><a href="">Statistical breakdown</a></li>
    </ul>

    <div id="map"></div>
}

